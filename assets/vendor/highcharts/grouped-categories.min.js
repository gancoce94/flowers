/**
 * Minified by jsDelivr using UglifyJS v3.3.20.
 * Original file: /npm/highcharts-grouped-categories@1.1.3/grouped-categories.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){"use strict";var g=void 0,s=Math.round,M=Math.min,T=Math.max,b=t.merge,h=t.pick,r=t.each,H=window.HighchartsAdapter&&window.HighchartsAdapter.inArray||t.inArray,e=t.Axis.prototype,i=t.Tick.prototype,a=e.init,f=e.render,o=e.setCategories,n=i.getLabelSize,l=i.addLabel,p=i.destroy,C=i.render;function c(t){return JSON.parse(JSON.stringify(t))}function d(t,e){return this.userOptions=c(t),this.name=t.name||t,this.parent=e,this}function u(t){for(var e=t.length,i=0;e--;)i+=t[e];return i}function x(t,e,i){for(t.unshift(new d(e,i));i;)i.leaves=i.leaves?i.leaves+1:1,i=i.parent}function W(t,e,i){e[0]===e[2]&&(e[0]=e[2]=s(e[0])-i%2/2),e[1]===e[3]&&(e[1]=e[3]=s(e[1])+i%2/2),t.push("M",e[0],e[1],"L",e[2],e[3])}function N(t,e){return t.getPosition(t.axis.horiz,e,t.axis.tickmarkOffset)}function y(t,e,i){for(var s,r=t.length;r--;)(s=t[r][e])&&y(s,e,i),i(t[r])}d.prototype.toString=function(){for(var t=[],e=this;e;)t.push(e.name),e=e.parent;return t.join(", ")},e.init=function(t,e){a.call(this,t,e),"object"==typeof e&&e.categories&&this.setupGroups(e)},e.setupGroups=function(t){var e=c(t.categories),i=[],s={},r=this.options.labels,a=r.groupedOptions,o=r.style;!function t(e,i,s,r,a){var o,n=e.length;for(a=a||0,s.depth=s.depth?s.depth:0;n--;)(o=e[n]).categories?(r&&(o.parent=r),t(o.categories,i,s,o,a+1)):x(i,o,r);s.depth=T(s.depth,a)}(e,i,s),this.categoriesTree=e,this.categories=i,this.isGrouped=0!==s.depth,this.labelsDepth=s.depth,this.labelsSizes=[],this.labelsGridPath=[],this.tickLength=t.tickLength||this.tickLength||null,this.tickWidth=h(t.tickWidth,this.isXAxis?1:0),this.directionFactor=[-1,1,1,-1][this.side],this.options.lineWidth=h(t.lineWidth,1),this.groupFontHeights=[];for(var n=0;n<=s.depth;n++){var l=a&&a[n-1]&&a[n-1].style?b(o,a[n-1].style):o;this.groupFontHeights[n]=Math.round(.3*this.chart.renderer.fontMetrics(l?l.fontSize:0).b)}},e.render=function(){if(this.isGrouped&&(this.labelsGridPath=[]),this.originalTickLength===g&&(this.originalTickLength=this.options.tickLength),this.options.tickLength=this.isGrouped?.001:this.originalTickLength,f.call(this),!this.isGrouped)return this.labelsGrid&&this.labelsGrid.attr({visibility:"hidden"}),!1;var i=this,t=i.options,e=i.top,s=i.left,r=s+i.width,a=e+i.height,o=i.hasVisibleSeries||i.hasData,n=i.labelsDepth,l=i.labelsGrid,h=i.horiz,p=i.labelsGridPath,c=!1===t.drawHorizontalBorders?n+1:0,d=i.opposite?h?e:r:h?a:s,u=i.tickWidth;for(i.userTickLength&&(n-=1),l||(l=i.labelsGrid=i.chart.renderer.path().attr({strokeWidth:u,"stroke-width":u,stroke:t.tickColor||""}).add(i.axisGroup),t.tickColor||l.addClass("highcharts-tick"));c<=n;)d+=i.groupSize(c),W(p,h?[s,d,r,d]:[d,e,d,a],u),c++;return l.attr({d:p,visibility:o?"visible":"hidden"}),i.labelGroup.attr({visibility:o?"visible":"hidden"}),y(i.categoriesTree,"categories",function(t){var e=t.tick;return!!e&&(e.startAt+e.leaves-1<i.min||e.startAt>i.max?(e.label.hide(),e.destroyed=0):e.label.attr({visibility:o?"visible":"hidden"}),!0)}),!0},e.setCategories=function(t,e){this.categories&&this.cleanGroups(),this.setupGroups({categories:t}),this.categories=this.userOptions.categories=t,o.call(this,this.categories,e)},e.cleanGroups=function(){var t,e=this.ticks;for(t in e)e[t].parent&&delete e[t].parent;y(this.categoriesTree,"categories",function(t){var i=t.tick;return!!i&&(i.label.destroy(),r(i,function(t,e){delete i[e]}),delete t.tick,!0)}),this.labelsGrid=null},e.groupSize=function(t,e){var i=this.labelsSizes,s=this.directionFactor,r=!!this.options.labels.groupedOptions&&this.options.labels.groupedOptions[t-1],a=0;return r&&(a=-1===s?r.x?r.x:0:r.y?r.y:0),e!==g&&(i[t]=T(i[t]||0,e+10+Math.abs(a))),!0===t?u(i)*s:i[t]?i[t]*s:0},i.addLabel=function(){var t,e=this,i=e.axis;return l.call(e),!(!i.categories||!(t=i.categories[e.pos]))&&(e.label&&e.label.attr("text",e.axis.labelFormatter.call({axis:i,chart:i.chart,isFirst:e.isFirst,isLast:e.isLast,value:t.name,pos:e.pos})),i.isGrouped&&i.options.labels.enabled&&e.addGroupedLabels(t),!0)},i.addGroupedLabels=function(t){for(var e,i=this,s=this.axis,r=s.chart,a=s.options.labels,o=a.useHTML,n=a.style,l=a.groupedOptions,h={align:"center",rotation:a.rotation,x:0,y:0},p=s.horiz?"height":"width",c=0;i;){if(0<c&&!t.tick){this.value=t.name;var d=a.formatter?a.formatter.call(this,t):t.name,u=l&&l[c-1],g=u?b(h,l[c-1]):h,f=u&&l[c-1].style?b(n,l[c-1].style):n;delete g.style,e=r.renderer.text(d,0,0,o).attr(g).css(f).add(s.labelGroup),i.startAt=this.pos,i.childCount=t.categories.length,i.leaves=t.leaves,i.visible=this.childCount,i.label=e,i.labelOffsets={x:g.x,y:g.y},t.tick=i}i&&s.groupSize(c,i.label.getBBox()[p]),i=(t=t.parent)?i.parent=t.tick||{}:null,c++}},i.render=function(t,e,i){C.call(this,t,e,i);var s=this.axis.categories[this.pos];if(this.axis.isGrouped&&s&&!(this.pos>this.axis.max)){var r,a,o,n,l,h,p,c=this,d=c,u=c.axis,g=c.pos,f=c.isFirst,b=u.max,x=u.min,y=u.horiz,v=u.labelsGridPath,k=u.groupSize(0),G=u.tickWidth,m=N(c,g),z=y?m.y:m.x,S=u.chart.renderer.fontMetrics(u.options.labels.style?u.options.labels.style.fontSize:0).b,L=1,A=y&&m.x===u.pos+u.len||!y&&m.y===u.pos?-1:0;for(f&&W(v,y?[u.left,m.y,u.left,m.y+u.groupSize(!0)]:u.isXAxis?[m.x,u.top,m.x+u.groupSize(!0),u.top]:[m.x,u.top+u.len,m.x+u.groupSize(!0),u.top+u.len],G),y&&u.left<m.x?W(v,[m.x-A,m.y,m.x-A,m.y+k],G):!y&&u.top<=m.y&&W(v,[m.x,m.y+A,m.x+k,m.y+A],G),k=z+k;d.parent;){d=d.parent;var O=(h=s,p=void 0,p=0,f?p=(p=H(h.name,h.parent.categories))<0?0:p:p),w=d.labelOffsets.x,F=d.labelOffsets.y;a=N(c,T(d.startAt-1,x-1)),o=N(c,M(d.startAt+d.leaves-1-O,b)),l=d.label.getBBox(!0),r=u.groupSize(L),A=y&&o.x===u.pos+u.len||!y&&o.y===u.pos?-1:0,n=y?{x:(a.x+o.x)/2+w,y:k+u.groupFontHeights[L]+r/2+F/2}:{x:k+r/2+w,y:(a.y+o.y-l.height)/2+S+F},isNaN(n.x)||isNaN(n.y)||(d.label.attr(n),v&&(y&&u.left<o.x?W(v,[o.x-A,k,o.x-A,k+r],G):!y&&u.top<=o.y&&W(v,[k,o.y+A,k+r,o.y+A],G))),k+=r,L++}}},i.destroy=function(){for(var t=this.parent;t;)t.destroyed=t.destroyed?t.destroyed+1:1,t=t.parent;p.call(this)},i.getLabelSize=function(){if(!0===this.axis.isGrouped){var t=n.call(this)+10;return this.axis.labelsSizes[0]<t&&(this.axis.labelsSizes[0]=t),u(this.axis.labelsSizes)}return n.call(this)}});
//# sourceMappingURL=/sm/1b6511eb9408b68d41be0e98bf30d20626b47716fbb7a05ab2137e1840291b0a.map